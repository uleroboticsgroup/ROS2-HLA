hla:
  federation_name: "RoboticsFed"
  federate_name: "ClientBridge_Controller"
  fom_file_path: "/home/vicen/ISDEFE/ros2_hla_ws/src/ROS2HLA_Bridge/examples/turtlebot4_gazebo/fom/robotics.xml"
  pitch_jar_path: "/home/vicen/prti1516e/lib/prti1516e.jar"

time_management:
  is_regulating: false
  is_constrained: true
  time_step: 0.1
  lookahead: 0.1

# ROS2 -> HLA (Client sends commands)
# We will have a local node publishing to /turtlebot4_control/cmd_vel and the bridge sends it to HLA
ros_to_hla:
  - ros_topic: "/turtlebot4_control/cmd_vel"
    ros_type: "geometry_msgs.msg.TwistStamped"
    hla_interaction_class: "Control"
    mapping:
      twist.linear.x: "linearVel"
      twist.angular.z: "angularVel"
    fixed_parameters:
      robotName: "TurtleBot4"

# HLA -> ROS2 (Client receives pose/odom from HLA)
# The bridge receives updates for 'Robot' object and publishes to /turtlebot4_control/odom_monitor
hla_to_ros:
  - ros_topic: "/turtlebot4_control/odom_monitor"
    ros_type: "nav_msgs.msg.Odometry" # Re-using Odom type if we can map back, or maybe just Pose
    # The turtlesim example mapped to turtlesim/Pose.
    # Since our FOM has X, Y, Theta (maybe), and we mapped Odom->Robot(X,Y) on server side.
    # We can map Robot(X,Y) -> Odom(pose.pose.position.x, ...) on client side?
    # The bridge might not support deep mapping for nested fields on the subscriber side (HLA->ROS) easily without checking code.
    # Let's check the bridge code or just use a simpler message type for monitoring if possible, or try mapping.
    # The bridge_node.py likely handles dot notation.
    hla_object_class: "Robot"
    hla_instance_name: "TurtleBot4"
    mapping:
      pose.pose.position.x: "positionX"
      pose.pose.position.y: "positionY"
